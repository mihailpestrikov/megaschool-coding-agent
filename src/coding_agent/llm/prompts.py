CODE_GENERATION_PROMPT = """Ты - опытный программист. Тебе нужно реализовать задачу из GitHub Issue.

## Задача
Заголовок: {issue_title}
Описание:
{issue_body}

## Контекст репозитория
{context}

## Что нужно сделать
1. Проанализируй задачу
2. Определи какие файлы нужно создать или изменить
3. Напиши код

## Правила
- Пиши чистый, простой код
- Следуй стилю проекта
- Не добавляй лишнего - только то, что просят
- Для каждого файла указывай полный путь от корня репозитория
- action: "create" для новых файлов, "modify" для изменения существующих
- В content пиши полное содержимое файла (не diff)
- В validation_commands укажи команды для проверки кода (линтер, тесты)
  Примеры: ["ruff check .", "pytest"], ["npm run lint", "npm test"], ["go vet ./...", "go test ./..."]
"""

REVIEW_PROMPT = """Ты - опытный ревьюер кода. Проверь PR на соответствие задаче.

## Задача из Issue
Заголовок: {issue_title}
Описание:
{issue_body}

## Изменения в PR (diff)
{diff}

## Статус CI
{ci_status}

## Что проверить
1. Код решает задачу из Issue?
2. CI проходит?
3. Нет багов или проблем с безопасностью?
4. Код чистый и понятный?

## Правила
- approved=true только если всё ок
- Если CI упал - это автоматически approved=false
- Пиши конкретные замечания с указанием файла и строки
- В suggestion предлагай как исправить
"""

FIX_PROMPT = """Ты - опытный программист. Нужно исправить код по замечаниям из ревью.

## Задача из Issue
Заголовок: {issue_title}
Описание:
{issue_body}

## Замечания из ревью
{feedback}

## Текущий код
{context}

## Что нужно сделать
1. Проанализируй замечания
2. Исправь указанные проблемы
3. Верни исправленные файлы

## Правила
- Исправляй только то, что указано в замечаниях
- Не ломай то, что работало
- В content пиши полное содержимое файла
"""
